@model Inventario.ViewModels.VMInventario

@{
    ViewBag.Title = "ObtenerArticulo";


}


<script src="https://cdn.jsdelivr.net/npm/sweetalert2@10.10.1/dist/sweetalert2.all.min.js"></script>


@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()

    <div class="form-horizontal">
        <br />
        <h4>Dar de baja stock de articulo</h4>
        <hr />
        @Html.ValidationSummary(true, "", new { @class = "text-danger" })



        <div class="form-group">
            <label class="col-sm-6" control-label>Nombre</label>
            <div class="col-sm-6">
                @Html.TextBoxFor(model => model.Nombre_articulo, htmlAttributes: new { @class = "form-control", @id = "txtNombre", @disabled = "disabled" })
            </div>
        </div>


        <div class="form-group">
            <label class="col-sm-6" control-label>Modelo</label>
            <div class="col-sm-6">
                @Html.TextBoxFor(model => model.Modelo_articulo, htmlAttributes: new { @class = "form-control", @id = "txtModelo", @disabled = "disabled" })
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-6" control-label>Stock actual</label>
            <div class="col-sm-6">
                @Html.TextBoxFor(model => model.Stock, htmlAttributes: new { @class = "form-control", @id = "txtStock", @disabled = "disabled" })
            </div>
        </div>
        <div class="form-group" text-right>
            @if (@ViewBag.cantStock == 0)
            {<div class="form-group">
                    <label class="col-sm-6" control-label>Motivo de baja</label>
                    <div class="col-sm-6">
                        @Html.TextBoxFor(model => model.Motivo_baja, htmlAttributes: new { @class = "form-control", @id = "txtStock", @disabled = "disabled" })
                    </div>
                </div>
                <div class="col-sm-6">
                    <button class="btn btn-danger" type="submit" disabled>Sin stock</button>
                </div>
            }
            else
            { <div class="form-group">
                    <label class="col-sm-6" control-label>Motivo de baja</label>
                    <div class="col-sm-6">
                        @Html.TextBoxFor(model => model.Motivo_baja, htmlAttributes: new { @class = "form-control", @id = "txtStock", required = "required" })
                    </div>
                </div>
                <div class="col-sm-6">
                    <button class="btn btn-primary" type="submit" onclick="mensaje()" id="btn-submit" >Dar de baja</button>
                </div>
            }
            <br />
            <br />
            <div class="col-sm-6">
                <a href="@Url.Action("ListadoAsignarUsr", "Inventario")" class="btn btn-info">Volver</a>
            </div>
        </div>

    </div>
}
@*<script>
    function mensaje() {
        Swal.fire({
            position: 'top-center',
            icon: 'success',
            title: 'Puede volver a habilitar el articulo desde el menú        ->'
                + '        abm - articulos -  listado',
            showConfirmButton: false,
            timer: 7000
        })
    }

</script>*@
@*<script>
    $('#btn-submit').on('click', function mensaje(e) {
        e.preventDefault();
        var form = $(this).parents('form');
        swal({
            title: "Are you sure?",
            text: "You will not be able to recover this imaginary file!",
            type: "warning",
            showCancelButton: true,
            confirmButtonColor: "#DD6B55",
            confirmButtonText: "Yes, delete it!",
            closeOnConfirm: false
        }, function (isConfirm) {
            if (isConfirm) form.submit();
        });
    });

</script>*@
<script>
    function mensaje(e) {
        e.preventDefault();
        swal({
            title: "Are you sure?",
            text: "You will not be able to recover this imaginary file!",
            type: "warning",
            showCancelButton: true,
            confirmButtonColor: "#DD6B55",
            confirmButtonText: "Yes, delete it!",
            closeOnConfirm: false
        }, function (isConfirm) {
            if (isConfirm) form.submit();
        });
    }
</script>



